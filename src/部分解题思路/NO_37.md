# 37.序列化二叉树

在这里是按照前序遍历来进行序列化和反序列化的。

## 序列化

序列化就是根据前序遍历的顺序，把每个节点的值一个个放进去。所以我们用了StringBuilder,每次遍历一个节点，就通过append()把这个值加到最后面。我们这个序列化后面总会多一个逗号，我原本觉得你如果只输入一个null，那么返回的是“#”，而不是“#，”后面跟了个逗号不符合逻辑。后面发现因为我们是一个一个加进去的，第一个是“1，”第二个是“1,2，”。肯定要跟个逗号的，如果你不想要，只要把最后的逗号去掉就可以了，所以这根本不是问题。

## 反序列化

反序列化就是把前面的序列化序列放进一个队列里面。然后按照前序遍历的操作，把这个队列的数字依次取出，然后根据这个值创建节点。这里我们不需要担心队列为空还继续取数据的问题。当遇到为null（“#”）的时候，就不会继续递归了，队列也不会再执行取数据的操作了。可以这么理解，这个反序列化是为前面的序列化操作量身定做的，递归过程中的poll操作会刚好等于队列的数据个数。